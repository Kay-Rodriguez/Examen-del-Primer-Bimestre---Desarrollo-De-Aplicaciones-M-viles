{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/KarlaR/Downloads/movistarexamen_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/supabase\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\nfunction PerfilPage_div_5_ion_item_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\");\n    i0.ɵɵelement(1, \"ion-icon\", 11);\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.perfil.telefono);\n  }\n}\nfunction PerfilPage_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 5);\n    i0.ɵɵtext(7, \"Rol: Asesor Comercial\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-list\", 6)(9, \"ion-item\");\n    i0.ɵɵelement(10, \"ion-icon\", 7);\n    i0.ɵɵelementStart(11, \"ion-label\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, PerfilPage_div_5_ion_item_13_Template, 4, 1, \"ion-item\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"ion-button\", 9);\n    i0.ɵɵtext(15, \" Editar perfil (opcional) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-button\", 10);\n    i0.ɵɵlistener(\"click\", function PerfilPage_div_5_Template_ion_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵtext(17, \" Cerrar sesi\\u00F3n \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate((ctx_r1.perfil.nombre_completo || \"A\")[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.perfil.nombre_completo || \"Asesor Comercial\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.email);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.perfil.telefono);\n  }\n}\nexport let PerfilPage = /*#__PURE__*/(() => {\n  class PerfilPage {\n    constructor(supabaseSvc, router) {\n      this.supabaseSvc = supabaseSvc;\n      this.router = router;\n      this.perfil = null;\n      this.email = '';\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.perfil = yield _this.supabaseSvc.getPerfilActual();\n        const {\n          data\n        } = yield _this.supabaseSvc.getUser();\n        _this.email = data.user?.email || '';\n      })();\n    }\n    logout() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        yield _this2.supabaseSvc.logout();\n        _this2.router.navigateByUrl('/login', {\n          replaceUrl: true\n        });\n      })();\n    }\n    static {\n      this.ɵfac = function PerfilPage_Factory(t) {\n        return new (t || PerfilPage)(i0.ɵɵdirectiveInject(i1.SupabaseService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PerfilPage,\n        selectors: [[\"app-perfil\"]],\n        decls: 6,\n        vars: 1,\n        consts: [[1, \"header-gradient\"], [1, \"ion-padding\"], [\"class\", \"perfil-card\", 4, \"ngIf\"], [1, \"perfil-card\"], [1, \"avatar\"], [1, \"rol\"], [\"lines\", \"none\"], [\"name\", \"mail-outline\", \"slot\", \"start\"], [4, \"ngIf\"], [\"expand\", \"block\", \"color\", \"medium\"], [\"expand\", \"block\", \"color\", \"danger\", 3, \"click\"], [\"name\", \"call-outline\", \"slot\", \"start\"]],\n        template: function PerfilPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n            i0.ɵɵtext(3, \"Mi Perfil\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(4, \"ion-content\", 1);\n            i0.ɵɵtemplate(5, PerfilPage_div_5_Template, 18, 4, \"div\", 2);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.perfil);\n          }\n        },\n        dependencies: [i3.NgIf, i4.IonButton, i4.IonContent, i4.IonHeader, i4.IonIcon, i4.IonItem, i4.IonLabel, i4.IonList, i4.IonTitle, i4.IonToolbar],\n        styles: [\".perfil-card[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.avatar[_ngcontent-%COMP%]{width:90px;height:90px;margin:0 auto 12px;border-radius:50%;background:linear-gradient(135deg,#0033a0,#673ab7);display:flex;align-items:center;justify-content:center;color:#fff;font-size:36px;font-weight:700}h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700}.rol[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:16px;color:#666;font-size:13px}\"]\n      });\n    }\n  }\n  return PerfilPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}