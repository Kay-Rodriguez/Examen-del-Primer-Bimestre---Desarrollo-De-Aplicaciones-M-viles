{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/KarlaR/Downloads/movistarexamen_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ChatsPage = class ChatsPage {\n  constructor(supabase) {\n    this.supabase = supabase;\n    this.contratacionId = 1; // Ejemplo, luego lo reemplazas\n    this.mensajes = [];\n    this.nuevoMensaje = '';\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.canal = _this.supabase.escucharChat(_this.contratacionId, msg => {\n        _this.mensajes.push(msg);\n      });\n    })();\n  }\n  ngOnDestroy() {\n    if (this.canal) this.canal.unsubscribe();\n  }\n  enviar() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this2.nuevoMensaje.trim()) return;\n      yield _this2.supabase.enviarMensaje(_this2.contratacionId, _this2.nuevoMensaje);\n      _this2.nuevoMensaje = '';\n    })();\n  }\n};\nChatsPage = __decorate([Component({\n  selector: 'app-chats',\n  templateUrl: './chats.page.html',\n  styleUrls: ['./chats.page.scss']\n})], ChatsPage);\nexport { ChatsPage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}