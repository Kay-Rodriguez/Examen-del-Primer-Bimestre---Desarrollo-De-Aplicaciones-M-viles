{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/KarlaR/Downloads/movistarexamen_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createClient } from '@supabase/supabase-js';\nimport * as i0 from \"@angular/core\";\nconst SUPABASE_URL = 'https://jgspryrvyhfkiauidfoo.supabase.co';\nconst SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impnc3ByeXJ2eWhma2lhdWlkZm9vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzOTI5MTAsImV4cCI6MjA3ODk2ODkxMH0.b5dFwDxJ7tJLd_xWPtrMcTd1zhCNoBWN6spXBzWa2mQ';\nexport let SupabaseService = /*#__PURE__*/(() => {\n  class SupabaseService {\n    constructor() {\n      this.client = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\n    }\n    get supabase() {\n      return this.client;\n    }\n    signIn(email, password) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const {\n          error\n        } = yield _this.client.auth.signInWithPassword({\n          email,\n          password\n        });\n        if (error) throw error;\n      })();\n    }\n    signUp(nombre, email, password, telefono) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const {\n          data,\n          error\n        } = yield _this2.client.auth.signUp({\n          email,\n          password,\n          options: {\n            data: {\n              nombre,\n              telefono,\n              rol: 'usuario_registrado'\n            }\n          }\n        });\n        if (error) throw error;\n        return data;\n      })();\n    }\n    getPerfilActual() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        const {\n          data: {\n            user\n          }\n        } = yield _this3.client.auth.getUser();\n        if (!user) return null;\n        const {\n          data,\n          error\n        } = yield _this3.client.from('perfiles').select('*').eq('id', user.id).single();\n        if (error) throw error;\n        return data;\n      })();\n    }\n    getPlanesPublicos() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        const {\n          data,\n          error\n        } = yield _this4.client.from('planes_moviles').select('*').eq('activo', true);\n        if (error) throw error;\n        return data ?? [];\n      })();\n    }\n    static {\n      this.ɵfac = function SupabaseService_Factory(t) {\n        return new (t || SupabaseService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: SupabaseService,\n        factory: SupabaseService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return SupabaseService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}