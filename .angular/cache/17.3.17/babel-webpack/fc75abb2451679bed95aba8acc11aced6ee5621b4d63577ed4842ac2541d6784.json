{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/KarlaR/Downloads/movistarexamen_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport const resolveFetch = customFetch => {\n  if (customFetch) {\n    return (...args) => customFetch(...args);\n  }\n  return (...args) => fetch(...args);\n};\nexport const resolveHeadersConstructor = () => {\n  return Headers;\n};\nexport const fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n  const fetch = resolveFetch(customFetch);\n  const HeadersConstructor = resolveHeadersConstructor();\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (input, init) {\n      var _a;\n      const accessToken = (_a = yield getAccessToken()) !== null && _a !== void 0 ? _a : supabaseKey;\n      let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n      if (!headers.has('apikey')) {\n        headers.set('apikey', supabaseKey);\n      }\n      if (!headers.has('Authorization')) {\n        headers.set('Authorization', `Bearer ${accessToken}`);\n      }\n      return fetch(input, Object.assign(Object.assign({}, init), {\n        headers\n      }));\n    });\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n//# sourceMappingURL=fetch.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}