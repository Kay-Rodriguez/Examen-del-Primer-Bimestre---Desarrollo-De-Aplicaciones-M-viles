"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1106],{1106:(x,m,s)=>{s.r(m),s.d(m,{HomePageModule:()=>P});var p=s(177),g=s(4341),i=s(8974),u=s(70),c=s(467),n=s(4438),f=s(9593);function h(e,l){1&e&&n.nrm(0,"ion-spinner",11)}function b(e,l){if(1&e&&(n.j41(0,"p"),n.nrm(1,"ion-icon",28),n.EFF(2),n.k0s()),2&e){const t=n.XpG().$implicit;n.R7$(2),n.SpI(" ",t.promocion," ")}}function _(e,l){if(1&e&&(n.j41(0,"div",29)(1,"h4"),n.EFF(2,"Informaci\xf3n del plan"),n.k0s(),n.j41(3,"ul")(4,"li")(5,"strong"),n.EFF(6,"Segmento:"),n.k0s(),n.EFF(7),n.k0s(),n.j41(8,"li")(9,"strong"),n.EFF(10,"P\xfablico Objetivo:"),n.k0s(),n.EFF(11),n.k0s(),n.j41(12,"li")(13,"strong"),n.EFF(14,"Datos:"),n.k0s(),n.EFF(15),n.k0s(),n.j41(16,"li")(17,"strong"),n.EFF(18,"Minutos:"),n.k0s(),n.EFF(19),n.k0s()()()),2&e){const t=n.XpG().$implicit;n.R7$(7),n.SpI(" ",t.segmento,""),n.R7$(4),n.SpI(" ",t.publico_objetivo,""),n.R7$(4),n.SpI(" ",t.gb_datos," GB"),n.R7$(4),n.SpI(" ",t.minutos," nacionales")}}function C(e,l){if(1&e){const t=n.RV6();n.j41(0,"ion-card",12)(1,"div",13)(2,"div",14)(3,"h3"),n.EFF(4),n.k0s(),n.j41(5,"p",15),n.EFF(6),n.k0s(),n.j41(7,"p",16),n.EFF(8),n.k0s()(),n.j41(9,"div",17)(10,"span",18),n.EFF(11),n.k0s(),n.j41(12,"small"),n.EFF(13,"/mes"),n.k0s()()(),n.j41(14,"ion-card-content")(15,"p",19),n.EFF(16),n.k0s(),n.j41(17,"div",20)(18,"p"),n.nrm(19,"ion-icon",21),n.EFF(20),n.k0s(),n.j41(21,"p"),n.nrm(22,"ion-icon",22),n.EFF(23),n.k0s(),n.DNE(24,b,3,1,"p",23),n.k0s(),n.j41(25,"div",24)(26,"ion-button",25),n.bIt("click",function(){const a=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.toggleDetalle(a))}),n.EFF(27),n.k0s(),n.j41(28,"ion-button",26),n.bIt("click",function(){const a=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.contratar(a))}),n.EFF(29," Contratar "),n.k0s()(),n.DNE(30,_,20,4,"div",27),n.k0s()()}if(2&e){const t=l.$implicit;n.R7$(4),n.JRh(t.nombre),n.R7$(2),n.JRh(t.segmento),n.R7$(2),n.JRh(t.publico_objetivo),n.R7$(3),n.SpI("$",t.precio_mensual,""),n.R7$(5),n.JRh(t.descripcion),n.R7$(4),n.SpI(" ",t.gb_datos," GB de datos "),n.R7$(3),n.SpI(" ",t.minutos," minutos nacionales "),n.R7$(),n.Y8G("ngIf",t.promocion),n.R7$(3),n.SpI(" ",t._show?"Ocultar Detalles":"Ver Detalles"," "),n.R7$(3),n.Y8G("ngIf",t._show)}}const F=[{path:"",component:(()=>{class e{constructor(t,o,a){this.supabaseSvc=t,this.toastCtrl=o,this.loadingCtrl=a,this.filtro="",this.planes=[],this.cargando=!1}ngOnInit(){var t=this;return(0,c.A)(function*(){yield t.cargarPlanes()})()}get planesFiltrados(){const t=this.filtro.toLowerCase();return this.planes.filter(o=>(o.nombre||"").toLowerCase().includes(t)||(o.segmento||"").toLowerCase().includes(t)||(o.publico_objetivo||"").toLowerCase().includes(t))}cargarPlanes(){var t=this;return(0,c.A)(function*(){t.cargando=!0;try{t.planes=yield t.supabaseSvc.getPlanesPublicos()}catch(o){console.error(o),t.toast("Error al cargar planes")}finally{t.cargando=!1}})()}toggleDetalle(t){t._show=!t._show}contratar(t){var o=this;return(0,c.A)(function*(){const a=yield o.loadingCtrl.create({message:"Enviando solicitud..."});yield a.present();try{yield o.supabaseSvc.contratarPlan(t.id),o.toast("Solicitud enviada. Un asesor te contactar\xe1.")}catch(r){console.error(r),o.toast("No se pudo enviar la solicitud")}finally{a.dismiss()}})()}toast(t){var o=this;return(0,c.A)(function*(){(yield o.toastCtrl.create({message:t,duration:2500,color:"primary",position:"top"})).present()})()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(f.w),n.rXU(i.K_),n.rXU(i.Xi))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-home"]],decls:16,vars:3,consts:[["color","primary"],[1,"ion-padding"],[1,"banner"],["src","https://blog.movistar.com.ec/wp-content/uploads/2025/01/Cuenca-Xavier-Calderon-Jose-Andres-Caballero-Ecuador-nos-mueve-1024x574.jpg"],["src","https://blog.movistar.com.ec/wp-content/uploads/2025/01/ECUADOR-NOS-MUEVE-Olon-Jose-Andres-Caballero-Xavier-Calderon-Movistar-1024x576.jpg"],[1,"search-bar"],["name","search-outline","slot","start"],["placeholder","Buscar por nombre, segmento o p\xfablico",3,"ngModelChange","ngModel"],[1,"titulo-seccion"],["name","crescent",4,"ngIf"],["class","card-plan",4,"ngFor","ngForOf"],["name","crescent"],[1,"card-plan"],[1,"card-top"],[1,"card-info"],[1,"segmento"],[1,"publico"],[1,"card-precio"],[1,"precio"],[1,"descripcion"],[1,"datos-basicos"],["name","cellular-outline"],["name","call-outline"],[4,"ngIf"],[1,"acciones"],["size","small","fill","outline","color","tertiary",3,"click"],["size","small",1,"btn-contratar",3,"click"],["class","detalles",4,"ngIf"],["name","sparkles-outline"],[1,"detalles"]],template:function(o,a){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3,"Cat\xe1logo de Planes"),n.k0s()()(),n.j41(4,"ion-content",1)(5,"div",2),n.nrm(6,"img",3)(7,"img",4),n.k0s(),n.j41(8,"ion-item",5),n.nrm(9,"ion-icon",6),n.j41(10,"ion-input",7),n.mxI("ngModelChange",function(d){return n.DH7(a.filtro,d)||(a.filtro=d),d}),n.k0s()(),n.j41(11,"h2",8),n.EFF(12,"Planes Disponibles"),n.k0s(),n.DNE(13,h,1,0,"ion-spinner",9),n.j41(14,"ion-list"),n.DNE(15,C,31,10,"ion-card",10),n.k0s()()),2&o&&(n.R7$(10),n.R50("ngModel",a.filtro),n.R7$(3),n.Y8G("ngIf",a.cargando),n.R7$(2),n.Y8G("ngForOf",a.planesFiltrados))},dependencies:[p.Sq,p.bT,g.BC,g.vS,i.Jm,i.b_,i.I9,i.W9,i.eU,i.iq,i.$w,i.uz,i.nf,i.w2,i.BC,i.ai,i.Gw],styles:[".banner[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:14px}.banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;border-radius:14px;object-fit:cover;height:110px}.search-bar[_ngcontent-%COMP%]{margin-bottom:10px;border-radius:999px;--background: #f2f4ff}.titulo-seccion[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:10px 0}.card-plan[_ngcontent-%COMP%]{border-radius:18px;box-shadow:0 6px 16px #0000000f;margin-bottom:14px}.card-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:14px 16px 0}.card-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.segmento[_ngcontent-%COMP%]{margin:2px 0;font-size:13px;color:#666}.publico[_ngcontent-%COMP%]{font-size:12px;color:#888}.card-precio[_ngcontent-%COMP%]{text-align:right}.card-precio[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{font-size:22px;font-weight:800;color:#3b055f}.card-precio[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;color:#777}.descripcion[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#555}.datos-basicos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin:4px 0}.datos-basicos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;vertical-align:middle}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px}.btn-contratar[_ngcontent-%COMP%]{--background: linear-gradient(90deg, #00c853, #009624);--border-radius: 999px;font-weight:600}.detalles[_ngcontent-%COMP%]{margin-top:10px;padding-top:8px;border-top:1px solid #eee}.detalles[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}.detalles[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;font-size:13px}"]})}}return e})()}];let P=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.MD,g.YN,i.bv,u.iI.forChild(F)]})}}return e})()}}]);