"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3026],{3026:(M,g,a)=>{a.r(g),a.d(g,{SolicitudesPageModule:()=>O});var r=a(177),p=a(4341),o=a(8974),f=a(70),l=a(467),n=a(4438),u=a(9593);function _(e,c){1&e&&n.nrm(0,"ion-spinner",6)}function m(e,c){1&e&&(n.j41(0,"ion-badge",16),n.EFF(1,"PENDIENTE"),n.k0s())}function P(e,c){1&e&&(n.j41(0,"ion-badge",17),n.EFF(1,"APROBADO"),n.k0s())}function b(e,c){1&e&&(n.j41(0,"ion-badge",18),n.EFF(1,"RECHAZADO"),n.k0s())}function h(e,c){if(1&e){const t=n.RV6();n.j41(0,"div",19)(1,"ion-button",20),n.bIt("click",function(){n.eBV(t);const s=n.XpG().$implicit,d=n.XpG();return n.Njj(d.aprobar(s.id))}),n.nrm(2,"ion-icon",21),n.EFF(3," Aprobar "),n.k0s(),n.j41(4,"ion-button",22),n.bIt("click",function(){n.eBV(t);const s=n.XpG().$implicit,d=n.XpG();return n.Njj(d.rechazar(s.id))}),n.nrm(5,"ion-icon",23),n.EFF(6," Rechazar "),n.k0s()()}}function x(e,c){if(1&e&&(n.j41(0,"ion-card",7)(1,"ion-card-header")(2,"ion-card-title"),n.EFF(3),n.k0s(),n.j41(4,"ion-card-subtitle"),n.EFF(5),n.k0s()(),n.j41(6,"ion-card-content")(7,"p",8),n.nrm(8,"ion-icon",9),n.EFF(9),n.nI1(10,"date"),n.k0s(),n.j41(11,"p",10),n.EFF(12," Plan: "),n.j41(13,"strong"),n.EFF(14),n.k0s(),n.EFF(15," / mes "),n.k0s(),n.j41(16,"div",11),n.DNE(17,m,2,0,"ion-badge",12)(18,P,2,0,"ion-badge",13)(19,b,2,0,"ion-badge",14),n.k0s(),n.DNE(20,h,7,0,"div",15),n.k0s()()),2&e){const t=c.$implicit;n.R7$(3),n.JRh((null==t.perfiles?null:t.perfiles.nombre_completo)||"Usuario"),n.R7$(2),n.JRh(null==t.planes_moviles?null:t.planes_moviles.nombre),n.R7$(4),n.SpI(" ",n.i5U(10,8,t.created_at,"short")," "),n.R7$(5),n.SpI("$",null==t.planes_moviles?null:t.planes_moviles.precio_mensual,""),n.R7$(3),n.Y8G("ngIf","pendiente"===t.estado),n.R7$(),n.Y8G("ngIf","aprobado"===t.estado),n.R7$(),n.Y8G("ngIf","rechazado"===t.estado),n.R7$(),n.Y8G("ngIf","pendiente"===t.estado)}}const C=[{path:"",component:(()=>{class e{constructor(t){this.supabaseSvc=t,this.lista=[],this.cargando=!1}ngOnInit(){this.cargar()}cargar(){var t=this;return(0,l.A)(function*(){t.cargando=!0,t.lista=yield t.supabaseSvc.asesorSolicitudes(),t.cargando=!1})()}aprobar(t){var i=this;return(0,l.A)(function*(){yield i.supabaseSvc.cambiarEstado(t,"aprobado"),i.cargar()})()}rechazar(t){var i=this;return(0,l.A)(function*(){yield i.supabaseSvc.cambiarEstado(t,"rechazado"),i.cargar()})()}static{this.\u0275fac=function(i){return new(i||e)(n.rXU(u.w))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-solicitudes"]],decls:11,vars:2,consts:[[1,"header-gradient"],[1,"ion-padding"],[1,"titulo"],[1,"sub"],["name","crescent",4,"ngIf"],["class","card-solicitud",4,"ngFor","ngForOf"],["name","crescent"],[1,"card-solicitud"],[1,"fecha"],["name","calendar-outline"],[1,"precio"],[1,"estado"],["color","warning",4,"ngIf"],["color","success",4,"ngIf"],["color","danger",4,"ngIf"],["class","botones",4,"ngIf"],["color","warning"],["color","success"],["color","danger"],[1,"botones"],["color","success",3,"click"],["slot","start","name","checkmark-outline"],["color","danger",3,"click"],["slot","start","name","close-outline"]],template:function(i,s){1&i&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3,"Solicitudes"),n.k0s()()(),n.j41(4,"ion-content",1)(5,"h2",2),n.EFF(6,"Solicitudes de Contrataci\xf3n"),n.k0s(),n.j41(7,"p",3),n.EFF(8,"Revisa las solicitudes y aprueba o rechaza seg\xfan el caso."),n.k0s(),n.DNE(9,_,1,0,"ion-spinner",4)(10,x,21,11,"ion-card",5),n.k0s()),2&i&&(n.R7$(9),n.Y8G("ngIf",s.cargando),n.R7$(),n.Y8G("ngForOf",s.lista))},dependencies:[r.Sq,r.bT,o.In,o.Jm,o.b_,o.I9,o.ME,o.HW,o.tN,o.W9,o.eU,o.iq,o.w2,o.BC,o.ai,r.vh],styles:[".header-gradient[_ngcontent-%COMP%]{--background: linear-gradient(90deg, #0033a0, #673ab7);--color: #ffffff}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}.panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:0}.panel-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#666}.btn-crear[_ngcontent-%COMP%]{--background: linear-gradient(90deg, #00c0ff, #0080ff);--border-radius: 999px;font-weight:600}.card-plan[_ngcontent-%COMP%]{border-radius:18px;box-shadow:0 8px 20px #00000014;margin-bottom:16px}.plan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px}.plan-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.plan-header[_ngcontent-%COMP%]   .segmento[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;color:#777}.plan-header[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{text-align:right}.plan-header[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px;font-weight:800;color:#0033a0}.plan-header[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;color:#777}.plan-body[_ngcontent-%COMP%]{display:flex;padding:0 16px 10px}.plan-body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:2}.plan-body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:4px 0}.plan-body[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;vertical-align:middle}.plan-body[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}.plan-body[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:16px;object-fit:cover}.descripcion[_ngcontent-%COMP%]{padding:0 16px 10px;font-size:13px;color:#555}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px 14px}.acciones[_ngcontent-%COMP%]   .acciones-botones[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-guardar[_ngcontent-%COMP%]{margin-top:24px;--background: linear-gradient(90deg, #0033a0, #673ab7);--border-radius: 16px;font-weight:600}.titulo[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:4px}.sub[_ngcontent-%COMP%]{font-size:13px;color:#666;margin-bottom:12px}.card-solicitud[_ngcontent-%COMP%]{border-radius:18px;box-shadow:0 6px 16px #0000000f;margin-bottom:12px}.fecha[_ngcontent-%COMP%]{font-size:13px;color:#777}.fecha[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px}.precio[_ngcontent-%COMP%]{margin-top:6px;font-size:14px}.estado[_ngcontent-%COMP%]{margin-top:8px}.botones[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:10px}"]})}}return e})()}];let O=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[r.MD,p.YN,o.bv,f.iI.forChild(C)]})}}return e})()}}]);