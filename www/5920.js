"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5920],{5920:(P,l,a)=>{a.r(l),a.d(l,{PerfilPageModule:()=>h});var s=a(177),p=a(4341),o=a(8974),c=a(70),f=a(467),t=a(4438),u=a(9593);function d(n,v){if(1&n&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",11),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(e.perfil.telefono)}}function m(n,v){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"span"),t.EFF(3),t.k0s()(),t.j41(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"p",5),t.EFF(7,"Rol: Asesor Comercial"),t.k0s(),t.j41(8,"ion-list",6)(9,"ion-item"),t.nrm(10,"ion-icon",7),t.j41(11,"ion-label"),t.EFF(12),t.k0s()(),t.DNE(13,d,4,1,"ion-item",8),t.k0s(),t.j41(14,"ion-button",9),t.EFF(15," Editar perfil (opcional) "),t.k0s(),t.j41(16,"ion-button",10),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.logout())}),t.EFF(17," Cerrar sesi\xf3n "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh((e.perfil.nombre_completo||"A")[0]),t.R7$(2),t.JRh(e.perfil.nombre_completo||"Asesor Comercial"),t.R7$(7),t.JRh(e.email),t.R7$(),t.Y8G("ngIf",e.perfil.telefono)}}const g=[{path:"",component:(()=>{class n{constructor(e,i){this.supabaseSvc=e,this.router=i,this.perfil=null,this.email=""}ngOnInit(){var e=this;return(0,f.A)(function*(){e.perfil=yield e.supabaseSvc.getPerfilActual();const{data:i}=yield e.supabaseSvc.getUser();e.email=i.user?.email||""})()}logout(){var e=this;return(0,f.A)(function*(){yield e.supabaseSvc.logout(),e.router.navigateByUrl("/login",{replaceUrl:!0})})()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(u.w),t.rXU(c.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-perfil"]],decls:6,vars:1,consts:[[1,"header-gradient"],[1,"ion-padding"],["class","perfil-card",4,"ngIf"],[1,"perfil-card"],[1,"avatar"],[1,"rol"],["lines","none"],["name","mail-outline","slot","start"],[4,"ngIf"],["expand","block","color","medium"],["expand","block","color","danger",3,"click"],["name","call-outline","slot","start"]],template:function(i,r){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Mi Perfil"),t.k0s()()(),t.j41(4,"ion-content",1),t.DNE(5,m,18,4,"div",2),t.k0s()),2&i&&(t.R7$(5),t.Y8G("ngIf",r.perfil))},dependencies:[s.bT,o.Jm,o.W9,o.eU,o.iq,o.uz,o.he,o.nf,o.BC,o.ai],styles:[".perfil-card[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.avatar[_ngcontent-%COMP%]{width:90px;height:90px;margin:0 auto 12px;border-radius:50%;background:linear-gradient(135deg,#0033a0,#673ab7);display:flex;align-items:center;justify-content:center;color:#fff;font-size:36px;font-weight:700}h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700}.rol[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:16px;color:#666;font-size:13px}"]})}}return n})()}];let h=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[s.MD,p.YN,o.bv,c.iI.forChild(g)]})}}return n})()}}]);